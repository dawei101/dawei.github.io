---
id: 32
title: 'ajax,iframe等等   综合起来 最好的  跨域解决方案'
date: 2011-09-05T18:29:33+00:00
author: dawei
layout: post
guid: http://bookwikiup.com/blog/?p=32
permalink: /2011/09/05/ajaxiframe%e7%ad%89%e7%ad%89-%e7%bb%bc%e5%90%88%e8%b5%b7%e6%9d%a5-%e6%9c%80%e5%a5%bd%e7%9a%84-%e8%b7%a8%e5%9f%9f%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88/
categories:
  - 未分类
---
本文介绍最好的web跨域方案，网络上已经有不少介绍，yahoo taobao 都用的此方法。  
方法原理很简单，页面 加入 <|script language="javascript" src="{url}"><|/script>  
此时的{url}是完全可以跨域的。  
利用这种特性，我们可以取得一段javascript的代码。 这段js代码携带着数据，就可以跨域了。  
具体实现：  
我们可以让返回的js里有这么一段: call({data}); //{data} 为返回的数据  
如果在页面内部定义了 function call(data) { alert(data);} ; 这样就可以实现跨域传输数据了。  
进一步讲:  
在客户端的页面 有了doTest() function  
如果在请求的{url}里我这样传参数 t.html?callbalk=doTest 。然后页面可以生成一个调用doTest() 方法的js代码，并且doTest({data})里的{data} 传入的是json形式的需要返回的数据。  
这样等<|script language="javascript" src="{url}"><|/script>加载完成即把{data}交给 doTest处理。 完美的实现了跨域的问题。  
本文 属原创 注明本出处 可转载：<http://intdesign.org/archives/266.html>